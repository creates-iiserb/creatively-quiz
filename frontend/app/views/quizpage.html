<style>
  /* Hide scrollbar for IE and Edge */
  * {
    -ms-overflow-style: none !important;
    -ms-overflow-style: none; /* IE 10+ */
  }
  .pl-10px{
    padding-left: 10px !important;
  }
                      
</style>

<div class="pageLoader"></div>
<div
  id="autosave"
  class="alert alert-success fade in navbar-fixed-top autosave"
></div>
<div
  id="timealert"
  class="alert alert-warning fade in navbar-fixed-top timealert"
></div>
<!-- start here -->
<div class="wrapper" ng-show="isLoad">
  <div
    class="sidebar custsidebar"
    data-background-color="white"
    data-active-color="danger"
  >
    <div class="logo" style="background-color: #66615b">
      <a
        href="javascript:void(0);"
        class="simple-text logo-mini"
        style="color: white"
      >
        EX
      </a>

      <a
        href="javascript:void(0);"
        class="simple-text logo-normal bold"
        style="color: white"
      >
        &nbsp; &nbsp; &nbsp; &nbsp; {{ lang.caption_examineer }}
      </a>
    </div>
    <div class="sidebar-wrapper">
      <div class="user">
        <div class="photo">
          <img
            onerror="onImgLoadError(this)"
            ng-src="https://robohash.org/{{rsgetData('USER')}}{{rsgetData('QUIZID')}}?set=set2&&bgset=bg2&&size=90x90"
          />
        </div>
        <div class="info">
          <a data-toggle="modal" data-target="#userDetails">
            <span style="text-align: center; font-size: 16px">
              <b title="{{rsgetData('USER')}}"
                >{{rsgetData('USER') | textTrim:15 }}</b
              >

              <b ng-show="showExitBtn()">
                <br />
                {{lang.caption_section}} {{ sectionNumber }}
              </b>
            </span>
          </a>

          <div class="clearfix"></div>
        </div>
      </div>
      <div class="clock text-center">
        <span id="showtime" ng-click="timerToggle()">
          <span ng-hide="{{rsgetData('ATTEMPT')}}">{{hh}}:{{mm}}:{{ss}} </span>
          <span ng-show="{{rsgetData('ATTEMPT')}}">{{completeTimeTaken}}</span>
        </span>
        <span id="timealertblock"></span>
        <div style="font-size: 12px">
          <i class="fa fa-clock-o" aria-hidden="true"></i>
          {{lang.caption_timer}} &nbsp;&nbsp;
        </div>
      </div>
      <ul class="nav mT0IMPpx">
        <li class="padTB0px">
          <br />
          <table class="table gridQues" border="0" align="center">
            <tbody>
              <tr>
                <td
                  ng-repeat="qus in gridRow1"
                  class="bx posRel {{lock[qus-1]==true ? 'locked' :'none'}} {{(qus==currentPage) ? 'current-pointer':'none'}}"
                  ng-click="getStartTime(qus);getEndTime(currentPage);getTotalTime(currentPage);goTo(qus);setGridCenter(qus);hideAll();resetAll();verifyToken();chkQusLock();"
                >
                  {{qus}}
                  <sup id="flag" class="disIB" ng-if="checkReview(qus)">
                    &#9873;</sup>
                  <div class="iconBoxContainer">
                    <div ng-if="mode=='review' && ticket[qus-1].hasTicket">
                      <i class="fa fa-ticket ticket-icon {{ ticket[qus-1].notResolved ? 'ticket-raised' : 'ticket-resolved'  }}"></i>
                    </div>
                    <div ng-if="mode=='review' && feedback[qus-1].hasFeedback">
                      <i  class="ti-comment-alt feed-icon"></i>
                    </div>
                  </div>

                </td>
              </tr>
              <tr>
                <td
                  ng-repeat="qus in gridRow2"
                  class="posRel {{lock[qus-1]==true ? 'locked' :'none'}} {{(qus==currentPage) ? 'current-pointer':'none'}}"
                  ng-click="getStartTime(qus);getEndTime(currentPage);getTotalTime(currentPage);goTo(qus);setGridCenter(qus);hideAll();resetAll();verifyToken();chkQusLock();"
                >
                  {{qus}}
                  <sup id="flag" class="disIB" ng-if="checkReview(qus)">
                    &#9873;</sup>

                  <div class="iconBoxContainer">
                    <div ng-if="mode=='review' && ticket[qus-1].hasTicket">
                      <i class="fa fa-ticket ticket-icon {{ ticket[qus-1].notResolved ? 'ticket-raised' : 'ticket-resolved'  }}"></i>
                    </div>
                    <div ng-if="mode=='review' && feedback[qus-1].hasFeedback">
                      <i  class="ti-comment-alt feed-icon"></i>
                    </div>
                  </div>

                </td>
              </tr>
              <tr>
                <td
                  ng-repeat="qus in gridRow3"
                  class="posRel {{lock[qus-1]==true ? 'locked' :'none'}} {{(qus==currentPage) ? 'current-pointer':'none'}}"
                  ng-click="getStartTime(qus);getEndTime(currentPage);getTotalTime(currentPage);goTo(qus);setGridCenter(qus);hideAll();resetAll();verifyToken();chkQusLock();"
                >
                  {{qus}}
                  <sup id="flag" class="disIB" ng-if="checkReview(qus)">
                    &#9873;</sup>

                  <div class="iconBoxContainer">
                    <div ng-if="mode=='review' && ticket[qus-1].hasTicket">
                      <i class="fa fa-ticket ticket-icon {{ ticket[qus-1].notResolved ? 'ticket-raised' : 'ticket-resolved'  }}"></i>
                    </div>
                    <div ng-if="mode=='review' && feedback[qus-1].hasFeedback">
                      <i  class="ti-comment-alt feed-icon"></i>
                    </div>
                  </div>
                 
                </td>
              </tr>
            </tbody>
          </table>
          <div class="qus-info-bar">
            <span class="pull-left qus-number"
              >{{currentPage}} of {{questions.length}}</span
            >
            <i
              class="fa fa-th-list pull-right list-more"
              data-toggle="modal"
              data-target="#allItems"
              title="All Items"
              aria-hidden="true"
            ></i>
            <div class="clearfix"></div>
          </div>
        </li>
        <li class="padT0px">
          <!-- button grid containar -->
          <div class="row btnGridContainer">
            <div
              class="col-md-6 col-xs-6 btnGrids {{hintUsed[currentPage-1]>=1 ? 'help-used': 'none'}}"
              ng-show="{{helpAllowed<=2&&helpAllowed>0}}"
              id="hint-btn"
              ng-click="showHint(currentPage);"
            >
              {{lang.caption_hint}}
            </div>
            <div
              class="col-md-6 col-xs-6 btnGrids {{hintUsed[currentPage-1]==2 ? 'help-used': 'none'}}"
              ng-show="{{helpAllowed==2}}"
              id="explanation-btn"
              ng-click="showExplanation(currentPage)"
            >
              {{lang.caption_explanation}}
            </div>
            <div
              class="col-md-6 col-xs-6 btnGrids"
              ng-show="{{rsgetData('ATTEMPT')}}"
              ng-click="score();"
            >
              {{lang.caption_ans}}
            </div>

            <div
              class="col-md-6 col-xs-6 btnGrids {{checkReview(currentPage) ? 'flagged': 'none'}}"
              ng-hide="{{rsgetData('ATTEMPT')}}"
              id="flag-btn"
              ng-click="doReview(currentPage)"
            >
              {{lang.caption_flag}}
            </div>

            <div
              class="col-md-6 col-xs-6 btnGrids {{lock[currentPage-1]==true ? 'locked':'none'}}"
              id="lock-btn"
              ng-click="Lock()"
            >
              <!-- <i class="fa {{lock[currentPage-1]==true?'fa-lock':'fa-unlock'}} iconBtn"></i> -->
              {{lock[currentPage-1]==true?lang.caption_clickUnlock:lang.caption_clickLock}}
            </div>

            <div
              class="col-md-6 col-xs-6 btnGrids"
              data-toggle="modal"
              data-target="#secInstuction"
            >
              {{lang.caption_instruction}}
            </div>

            <div
              class="col-md-6 col-xs-6 btnGrids"
              ng-hide="showSubmitBtn()"
              data-toggle="modal"
              data-target="#submitMore"
              ng-click="timeSpent();"
            >
              {{lang.caption_submitMore}}
            </div>

            <div
              class="col-md-6 col-xs-6 btnGrids"
              ng-show="calculatorType()"
              ng-click="calc();"
            >
              {{lang.caption_calculator}}
            </div>

            <div class="col-md-6 col-xs-6 pad0px" ng-show="showExitBtn()">
              <button
                id="exitSec"
                class="btn btn-default quizCtrlBtn"
                data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> {{lang.caption_exitSect}}"
                ng-click="saveAndExit()"
                type="button"
              >
                {{lang.caption_exitSect}}
              </button>
            </div>

            <div
              class="col-md-6 col-xs-6 btnGrids"
              ng-show="{{rsgetData('ATTEMPT') && (!rsgetData('ISSECTION') || sections.length==1)  }}"
              ng-click="goToSummary();"
            >
              {{ lang.caption_summary }}
            </div>

            <div
              class="col-md-6 col-xs-6 btnGrids"
              ng-show="{{rsgetData('ATTEMPT') && (!rsgetData('ISSECTION') || sections.length==1)  }}"
              ng-click="loggedOut();"
            >
              {{lang.caption_exit}}
            </div>
          </div>
          <!-- end of button grid containar -->
        </li>
      </ul>
    </div>
  </div>

  <div class="main-panel autoHeight">
    <nav class="navbar navbar-default navbar-fixed">
      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-5">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar bar1"></span>
                <span class="icon-bar bar2"></span>
                <span class="icon-bar bar3"></span>
              </button>
              <a class="navbar-brand" href="javascript:void(0);">
                <span class="info-marker-qus">{{currentPage}}</span>
                {{questions[currentPage-1].type | qTypeUpper}}</a
              >
            </div>
          </div>

          <div class="col-md-7 pull-right">
            <table class="main-panel-table pull-left">
              <tr>
                <td style="padding: 5px 0">
                  <div>
                    <span
                      ng-hide="{{rsgetData('ATTEMPT')}}"
                      class="cursorPointer {{checkReview((currentPage)) ? 'info-marker-flag': 'info-marker-default'}}"
                      ng-click="doReview(currentPage)"
                    >
                      <i class="fa fa-flag"></i>
                    </span>
                  </div>
                </td>
                <td>
                  <div>
                    <span
                      class="cursorPointer {{lock[currentPage-1]==true ? 'info-marker-lock' :'info-marker-default'}}"
                      id="topLockIcon"
                      ng-click="Lock()"
                    >
                      <i
                        class="{{lock[currentPage-1]==true ? 'fa fa-lock' :'fa fa-unlock'}}"
                      ></i>
                    </span>
                  </div>
                </td>
              </tr>
            </table>
            <table class="main-panel-table pull-right">
              <tr>
                <td>
                  <button
                    type="button"
                    class="btn btn-default btn-fill btn-move-left btn-pre-nxt"
                    ng-click="onLeft(currentPage,currentPage-1);preQus();hideAll();resetAll();verifyToken();chkQusLock();"
                    ng-disabled="currentPage==1"
                  >
                    <span class="btn-label">
                      <i class="ti-angle-left"></i>
                    </span>
                  </button>
                </td>
                <td>
                  <button
                    type="button"
                    class="btn btn-default btn-fill btn-move-right btn-pre-nxt"
                    ng-click="onRight(currentPage,currentPage+1);nextQus();hideAll();resetAll();verifyToken();chkQusLock();"
                    ng-disabled="currentPage==totalItems"
                  >
                    <span class="btn-label">
                      <i class="ti-angle-right"></i>
                    </span>
                  </button>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </nav>

    <div class="content quiz-content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-12 col-md-10 col-md-offset-1">
            <br />
            <div ng-include src="getQuestionTemplateName(currentPage)"></div>
          </div>
        </div>
        <div id="quiz-info" class="row">
          <!-- Answer -->
          <div
            id="quiz-ans"
            ng-show="mode=='review'"
            class="col-md-12 col-md-10 col-md-offset-1"
          >
            <div class="card">
              <div class="card-content">
                <div class="help-content ansContent">
                  <uib-tabset active="activeJustified" justified="true">
                    <uib-tab index="0" heading="{{lang.caption_ans}}">
                      <div ng-show="scoreDetails[currentPage-1].type!='info'">
                        <!-- subjective:mcq,fillIn,arrange -->
                        <div
                          ng-show="scoreDetails[currentPage-1].score!=='Pending'"
                          style="margin-top: 15px"
                          class="row"
                        >
                          <!-- show correct incorrect skipped -->
                          <div
                            class="col-md-3 padLR0px bold lh1_5em f14px"
                            ng-if="hasGradIndex[currentPage-1]"
                          >
                            <div
                              class="text-success"
                              ng-show="correctAnsGiven[currentPage-1]['status']=='correct'"
                            >
                              <i class="fa fa-check-circle"></i> 
                              <!-- {{ lang.caption_correctAns }} -->
                              {{ correctAnsGiven[currentPage-1]['label'] }}
                            </div>

                            <div
                              class="text-warning"
                              ng-show="correctAnsGiven[currentPage-1]['status']=='skipped'"
                            >
                              <i class="fa fa-info-circle"></i> 
                              <!-- {{ lang.caption_skippedQus }} -->
                              {{ correctAnsGiven[currentPage-1]['label'] }}
                            </div>

                            <div
                              class="text-danger"
                              ng-show="correctAnsGiven[currentPage-1]['status']=='incorrect'"
                            >
                              <i class="fa fa-times-circle-o"></i> 
                              <!-- {{ lang.caption_incorrectAns }} -->
                              {{ correctAnsGiven[currentPage-1]['label'] }}
                            </div>
                          </div>

                          <div
                            class="col-md-3 padLR0px text-primary bold lh1_5em f14px"
                            ng-show="sectData.helpAllowed>0 && (hintUsed[currentPage-1]>0 && hintUsed[currentPage-1]<=2)"
                          >
                            <i class="fa fa-lightbulb-o"></i> {{
                            lang.caption_hintUsed }}
                          </div>

                          <div
                            class="col-md-3 padLR0px text-success bold lh1_5em f14px"
                            ng-show="sectData.helpAllowed==2 && hintUsed[currentPage-1]==2"
                          >
                            <i class="fa fa-book"></i> {{ lang.caption_expUsed
                            }}
                          </div>
                        </div>

                        <!-- subjective with pending score -->
                        <div
                          ng-show="scoreDetails[currentPage-1].type=='sub' && scoreDetails[currentPage-1].score ==='Pending'"
                          class="row"
                          style="margin-top: 15px"
                        >
                          <!-- show attempt or not attempt -->
                          <div class="col-md-3 padLR0px bold lh1_5em f14px">
                            <div
                              class="text-primary"
                              ng-show="scoreDetails[currentPage-1].lock"
                            >
                              <i class="fa fa-thumbs-o-up"></i> {{
                              lang.caption_ques_attempted }}
                            </div>

                            <div
                              class="text-warning"
                              ng-show="!scoreDetails[currentPage-1].lock"
                            >
                              <i class="fa fa-info-circle"></i> {{
                              lang.caption_skippedQus }}
                            </div>
                          </div>

                          <div
                            class="col-md-3 padLR0px text-primary bold lh1_5em f14px"
                            ng-show="sectData.helpAllowed>0 && (hintUsed[currentPage-1]>0 && hintUsed[currentPage-1]<=2)"
                          >
                            <i class="fa fa-lightbulb-o"></i> {{
                            lang.caption_hintUsed }}
                          </div>

                          <div
                            class="col-md-3 padLR0px text-success bold lh1_5em f14px"
                            ng-show="sectData.helpAllowed==2 && hintUsed[currentPage-1]==2"
                          >
                            <i class="fa fa-book"></i> {{ lang.caption_expUsed
                            }}
                          </div>
                        </div>

                        <p style="margin-top: 10px">
                          <b>{{lang.caption_scoreObtained}}:</b>
                          <span ng-if="scoreDetails[currentPage-1].score ==='Pending'">Pending</span>
                          <span ng-if="scoreDetails[currentPage-1].score !=='Pending'">
                            {{  (scoreDetails[currentPage-1].score + correction[currentPage-1].correction).toFixed(2) }}
                          </span>
                        

                         
                          <script type="text/ng-template" id="scoreTempBubble.html" >
                              <table class="table text-left scoreTbl">
                                <tr ng-show="baseScore[currentPage-1]!='na'">
                                  <td class="fs-18px bold">
                                    <span class="{{ baseScore[currentPage-1]==0?'pl-10px':''}}">{{ baseScore[currentPage-1] | plusminus }}</span></td>
                                  <td>Base Score</td></tr>
                                <tr ng-show="scoreDetails[currentPage-1].type=='fillIn' && allowPartialGrading && scoreDetails[currentPage-1]['partial']!=0">
                                  <td class="fs-18px bold {{ scoreDetails[currentPage-1]['partial']>=0?'text-success':'text-danger' }}">{{ scoreDetails[currentPage-1]['partial'] | plusminus }}</td>
                                  <td>Partial Credit</td></tr>

                                <tr ng-show="grader[currentPage-1].isGraded" ng-repeat="rub in grader[currentPage-1].queRubrics.rules">
                                    <td class="fs-18px bold {{ rub.value>=0?'text-success':'text-danger' }}">{{ rub.value | plusminus}}</td>
                                    <td><span subjectmath="{{rub.text}}"  ng-show="rub.text!==''"></span></td>
                                </tr>

                                <tr ng-show="grader[currentPage-1].isGraded && grader[currentPage-1].queRubrics.adjEnabled && grader[currentPage-1].adjustment!=0">
                                  <td class="fs-18px bold {{ grader[currentPage-1].adjustment>=0?'text-success':'text-danger' }}">{{ grader[currentPage-1].adjustment | plusminus}}</td>
                                  <td>Adjustment by grader</td></tr>
                                <tr ng-show="correction[currentPage-1].hasCorrection && correction[currentPage-1].correction!=0"><td class="fs-18px bold {{ correction[currentPage-1].correction>=0?'text-success':'text-danger' }}">{{ correction[currentPage-1].correction | plusminus }}</td>
                                  <td>Correction</td>
                                </tr>
                                <tr> <td class="fs-22px bold text-info">{{ (scoreDetails[currentPage-1].score + correction[currentPage-1].correction) | plusminus }}</td> <td class="bold text-info"><span ng-if="grader[currentPage-1].isScoreMisMatch">*</span>Total Score</td></tr>
                              </table>
                              
                                <small ng-if="grader[currentPage-1].isScoreMisMatch" class="text-info"><span class="fs-18px bold">*</span>Score capped to min/max score </small>
                                <div ng-if="grader[currentPage-1].isGraded && grader[currentPage-1].note!=''" >
                                  <div ng-click="graderNoteCollapse = !graderNoteCollapse" style="cursor:pointer;font-weight:bold;" title="Grader Note">
                                    <i  class="fa fa-comment-o" ></i> Grader Note
                                  </div>
                                  
                                  <div uib-collapse="!graderNoteCollapse">
                                    <span math="{{grader[currentPage-1].note}}"></span>
                                  </div>
                                </div>
                               
                               
                               
                          </script>
                         
                          <!-- ng-show="((scoreDetails[currentPage-1].type=='fillIn' && allowPartialGrading && scoreDetails[currentPage-1]['partial']!=0 ) || correction[currentPage-1].hasCorrection)" -->
                          
                          <span  class="customPopover" ng-if="scoreDetails[currentPage-1].score !=='Pending'" >
                            <i class="fa fa-info-circle text-info" 
                            uib-popover-template="'scoreTempBubble.html'"
                             popover-title="Score Break Up"
                             popover-placement="right"
                             popover-trigger="'outsideClick'"
                            ></i>
                          </span>
                          <!-- popover-trigger="'mouseenter'" -->
                        </p>

                        <p>
                          <b>{{lang.caption_correctAnswer}}:</b>
                          <span
                            ng-if="(rsgetData('ATTEMPT')  && scoreDetails[currentPage-1].correctAns !='')"
                            math="{{scoreDetails[currentPage-1].correctAns}}"
                          ></span>

                          <span
                            ng-if="(rsgetData('ATTEMPT')  && scoreDetails[currentPage-1].correctAns =='')"
                          >
                            {{lang.caption_nav }}
                          </span>
                        </p>

                        <!-- start -->
                       
                        <div  ng-if="scoreDetails[currentPage-1].score !=='Pending'">
                          <hr/>
                            <div class="marT10px">
                              <button type="button" class="btn btn-sm btn-info btn-fill"
                              ng-if="!ticket[currentPage-1].hasTicket && reqBy=='std'"
                              ng-click="openTicketInput('studTik','open')"
                            >
                              <i class="fa fa-ticket"></i> {{ lang.caption_raiseTick }}
                            </button>

                            <button type="button" class="btn btn-sm btn-info btn-fill"
                              ng-if="ticket[currentPage-1].hasTicket && reqBy=='auth' && ticket[currentPage-1].notResolved" ng-click="openTicketInput('authTik','open')"
                            >
                              <i class="fa fa-ticket"></i> {{lang.caption_resTick}}
                            </button>

                          <button type="button" class="btn btn-sm btn-primary btn-fill"
                            ng-if="reqBy=='auth'" ng-click="openTicketInput('authScoreCorr','open')"
                          >
                            <i class="fa fa-pencil-square-o"></i> {{lang.caption_scoreCorr}}
                          </button>

                          <button
                            type="button" class="btn btn-sm btn-warning btn-fill"
                            ng-if="reqBy=='auth'" ng-click="openTicketInput('authFeedback','open')"
                          >
                            <i class="fa fa-user-o"></i> {{
                            (feedback[currentPage-1].hasFeedback &&
                            feedback[currentPage-1].text !=='')?lang.caption_editFeedback:
                            lang.caption_feedback }}
                          </button>
                          </div>
                          
                        </div>
                        

                        <div class="gradeReview mrT20" ng-if="scoreDetails[currentPage-1].score !=='Pending'">
                          <!-- raise Ticket -->
                          <div
                            class="marT10px card cardCus"
                            ng-if="reqBy=='std' && !ticket[currentPage-1].hasTicket && ticket[currentPage-1].raiseDivStatus==='open'"
                          >
                            <div class="grade_flex">
                              <strong class="text-info grade_title"
                                >{{ lang.caption_raiseTick }}</strong
                              >
                              <small class="text-info">
                               {{lang.msg_tickRaisInfo}}
                              </small>
                            </div>

                            <textarea
                              class="form-control mT5px"
                              ng-model="ticket[currentPage-1].tempTxt"
                              id="raiseTicketFocus"
                              placeholder="Enter your issue here"
                              rows="3"
                            ></textarea>
                           
                              <div class="buttonRow marT10px">
                                <div>
                                  <button
                                  class="btn btn-success btn-xs btnDis-success"
                                  ng-click="raiseTicket()">
                                  <i class="fa {{ resquestSend ?'fa-circle-o-notch fa-spin': 'fa-floppy-o' }}"
                                  ></i>
                                  {{ lang.caption_save }}
                                </button>
                                <button
                                  class="btn btn-danger btn-xs"
                                  ng-click="ticket[currentPage-1].raiseDivStatus='close';">
                                  <i class="fa fa-times"></i> {{ lang.caption_cancel }}
                                </button>
                                </div>

                                <div class="small">
                                  <span class="{{ ticket[currentPage-1].tempTxt.length>500?'text-danger':'' }}">{{ ticket[currentPage-1].tempTxt.length }}</span><span>/500</span>
                                </div>

                              </div>
                             
                            
                          </div>
                          <!-- End of raise Ticket -->

                          <div
                            id="studentTicketList"
                            ng-if="ticket[currentPage-1].hasTicket"
                            class="card cardCus"
                          >
                            <!-- show Ticket -->
                            <div>
                              <div class="grade_flex" style="justify-content: flex-start;">
                                <strong class="text-info grade_title"
                                  >{{lang.msg_tickRais}}
                                </strong>
                                <span ng-if="!ticket[currentPage-1].resolved" tooltip-placement="top" uib-tooltip="This ticket is not yet resolved. It's pending with the quiz administrator." class="label label-warning custLabel">Pending</span>
                              </div>

                              <blockquote class="grade_blockqute">
                                <p math="{{ticket[currentPage-1].issue}}"></p>
                                <footer>
                                  {{ lang.msg_tickRaisOn }} {{ ticket[currentPage-1].raisedOn |
                                  utcToLocal:'MMM dd, yyyy hh:mm a' }}
                                </footer>
                              </blockquote>
                             
                            </div>
                            <!-- end of show ticket -->

                            <!-- Add Author response -->
                            <div
                              class="marT10px"
                              ng-if="reqBy=='auth' &&  ticket[currentPage-1].resDivStatus==='open'"
                            >
                              <div class="grade_flex">
                                <strong class="text-info grade_title"
                                  >{{ lang.msg_authResTick }}
                                </strong>

                                <small class="text-info">
                                  {{lang.msg_corrUdateInfo}}
                                </small>
                              </div>

                              <textarea
                                class="form-control mT5px"
                                ng-model="ticket[currentPage-1].tempAuthRes"
                                id="resolveTicketFocus"
                                placeholder="Enter your response on ticket"
                                rows="3"
                              ></textarea>
                              
                              <div style="display: flex;justify-content: space-between; flex-wrap: wrap;align-items: center;">
                                <div class="checkbox">
                                  <input
                                    id="checkbox15"
                                    type="checkbox"
                                    ng-model="ticket[currentPage-1].scoreCorrection"
                                  />
                                  <label for="checkbox15">
                                    {{ lang.caption_scoreCorr }}
                                  </label>
                                </div>
  
                                <div class="small">
                                  <span class="{{ ticket[currentPage-1].tempAuthRes.length>500?'text-danger':'' }}">{{ ticket[currentPage-1].tempAuthRes.length }}</span><span>/500</span>
                                </div>
                              </div>
                              

                              <div
                                ng-show="ticket[currentPage-1].scoreCorrection"
                              >
                                <div>
                                  <strong class="text-warning">Marks ~ </strong>
                                  Min: &nbsp; {{
                                  correction[currentPage-1].minMark }} | Max:
                                  &nbsp; {{ correction[currentPage-1].maxMark }}
                                </div>
                                <div>
                                  <strong class="text-warning">Score = </strong>
                                  {{lang.msg_currScore}}({{
                                  correction[currentPage-1].score }}) +
                                  {{lang.msg_correction}}({{
                                  correction[currentPage-1].tempCorrection }}) =
                                  {{ (correction[currentPage-1].score+
                                  correction[currentPage-1].tempCorrection).toFixed(2)
                                  }}
                                </div>
                              </div>

                              <div
                                class="marT10px"
                                style="
                                  display: flex;
                                  flex-wrap: wrap;
                                  align-items: center;
                                "
                              >
                                <input
                                  ng-show="ticket[currentPage-1].scoreCorrection"
                                  type="number"
                                  placeholder="correction"
                                  class="form-control"
                                  style="width: 120px; margin-right: 20px"
                                  ng-model="correction[currentPage-1].tempCorrection"
                                />

                                  <div>
                                    <button
                                    class="btn btn-success btn-xs"
                                    ng-click="resolvedTicket()"
                                  >
                                    <i
                                      class="fa {{ resquestSend ?'fa-circle-o-notch fa-spin': 'fa-floppy-o' }}"
                                    ></i>
                                     {{ lang.caption_save }}
                                  </button>
                                  <button
                                    class="btn btn-danger btn-xs"
                                    ng-click="ticket[currentPage-1].resDivStatus='close'; ticket[currentPage-1].scoreCorrection = false"
                                  >
                                    <i class="fa fa-times"></i> {{ lang.caption_cancel }}
                                  </button>
                                  </div>
                                

                              </div>
                            </div>
                            <!-- end of add auth response -->

                            <!-- show author response -->
                            <div
                              class="grade_author_response marB10px"
                              ng-if="ticket[currentPage-1].resolved || ( reqBy=='auth' &&  ticket[currentPage-1].resolved)"
                            >
                              <strong class="text-info grade_title"
                                >{{ lang.msg_authRes }}</strong>
                              <br />
                              <blockquote class="grade_blockqute mrB0px">
                                <p
                                  math="{{ticket[currentPage-1].response}}"
                                ></p>

                                <footer>
                                  {{lang.msg_resolveOn}} {{
                                  ticket[currentPage-1].resolvedOn |
                                  utcToLocal:'MMM dd, yyyy hh:mm a' }}
                                </footer>
                              </blockquote>
                             
                            </div>
                           
                            <!-- end of author response -->
                          </div>

                          <!-- score correction -->
                          <div
                            id="authorScoreCorrection"
                            class="marT10px card cardCus"
                            ng-if="reqBy=='auth' && correction[currentPage-1].corrDivStatus==='open' && !ticket[currentPage-1].scoreCorrection">
                           
                            <div class="grade_flex">
                              <strong class="text-info grade_title"> {{ lang.caption_scoreCorr }}
                              </strong>

                              <small class="text-info">
                                {{lang.msg_corrUdateInfo}}
                              </small>
                            </div>

                            <div>
                              <strong class="text-warning">Marks ~ </strong>
                              Min: &nbsp; {{ correction[currentPage-1].minMark
                              }} | Max: &nbsp; {{
                              correction[currentPage-1].maxMark }}
                            </div>
                            <div>
                              <strong class="text-warning">Score = </strong>
                              {{lang.msg_currScore}}({{ correction[currentPage-1].score
                              }}) + {{lang.msg_correction}}({{
                              correction[currentPage-1].tempCorrection }}) = {{
                              (correction[currentPage-1].score+
                              correction[currentPage-1].tempCorrection).toFixed(2)
                              }}
                            </div>

                            <div
                              class="marT10px marB10px"
                              style="display: flex;flex-wrap: wrap;
                                align-items: center;"
                            >
                              <input
                                type="number"
                                placeholder="correction"
                                class="form-control"
                                id="authScoreCorrInp"
                                style="width: 120px; margin-right: 20px"
                                ng-model="correction[currentPage-1].tempCorrection"
                              />

                              <div>
                                <button
                                  class="btn btn-success btn-xs"
                                  ng-click="authScoreCorrection()"
                                >
                                  <i
                                    class="fa {{ resquestSend ?'fa-circle-o-notch fa-spin': 'fa-floppy-o' }}"
                                  ></i>
                                  {{ lang.caption_save }}
                                </button>
                                <button
                                  class="btn btn-danger btn-xs"
                                  ng-click="correction[currentPage-1].corrDivStatus='close'"
                                >
                                  <i class="fa fa-times"></i> {{ lang.caption_cancel }}
                                </button>
                              </div>
                            </div>
                           
                          </div>

                          <!-- end of score correction  -->
                          <!-- author feedback-->
                          <!-- add feedback -->
                          <div
                            id="authorAddFeedback"
                            class="marT10px card cardCus"
                            ng-if="reqBy=='auth' && feedback[currentPage-1].feedDivStatus==='open'"
                          >
                          

                          <div class="grade_flex">
                            <strong class="text-info grade_title"
                              >{{lang.msg_authFeedback}}
                            </strong>

                            <small class="text-info">
                              {{lang.msg_corrUdateInfo}}
                            </small>
                          </div>

                            <textarea
                              class="form-control"
                              placeholder="Enter your feedback"
                              rows="3"
                              id="authFeedbackFocus"
                              ng-model="feedback[currentPage-1].tempTxt"
                            ></textarea>

                            <div class="buttonRow marT10px">
                              <div>
                                <button
                                class="btn btn-success btn-xs"
                                ng-click="saveAuthorFeedBack()">
                                <i class="fa {{ resquestSend ?'fa-circle-o-notch fa-spin': 'fa-floppy-o' }}"
                                ></i>
                                {{ lang.caption_save }}
                              </button>
                              <button
                                class="btn btn-danger btn-xs"
                                ng-click="feedback[currentPage-1].feedDivStatus='close';">
                                <i class="fa fa-times"></i> {{ lang.caption_cancel }}
                              </button>
                              </div>

                              <div class="small">
                                <span class="{{ feedback[currentPage-1].tempTxt.length>500?'text-danger':'' }}">{{ feedback[currentPage-1].tempTxt.length }}</span><span>/500</span>
                              </div>

                            </div>

                           
                          </div>
                          <!-- end add feedback -->
                          <!-- author feedback show -->
                          <div
                            id="authorFeedback"
                            ng-if="feedback[currentPage-1].hasFeedback && feedback[currentPage-1].text !=='' &&  feedback[currentPage-1].feedDivStatus!=='open'"
                            class="marT10px card cardCus"
                          > 
                          
                            <strong class="text-info grade_title"
                              >{{lang.msg_authFeedback}}</strong
                            >
                            <blockquote class="grade_blockqute">
                              <p math="{{feedback[currentPage-1].text}}"></p>

                              <footer>
                                {{lang.msg_lastUpdAt}} {{ feedback[currentPage-1].updatedOn |
                                utcToLocal:'MMM dd, yyyy hh:mm a' }}
                              </footer>
                            </blockquote>
                            
                          </div>
                          <!-- end of author feedback -->
                        </div>
                      </div>

                      <div ng-show="scoreDetails[currentPage-1].type=='info'">
                        <br />
                        <p>
                          <b>{{lang.caption_infoInfo}}</b>
                        </p>
                      </div>
                    </uib-tab>
                    <uib-tab
                      index="1"
                      heading="{{ lang.caption_class_statistics}}"
                    >
                      <div
                        ng-show="((allowStats || reqBy =='auth' ) && statistics[qref].queType !=='na' && scoreDetails[currentPage-1].score !=='Pending')"
                      >
                        <div class="fx-row-guage mrB18px" id="fxRowGuage">
                          <div>
                            <div id="canvasguagetimeGraph"></div>
                            <div class="summLable">
                              <div class="yours">
                                <strong
                                  >You took : {{ statistics[qref].Time.yours
                                  | secondToString }}</strong
                                >
                              </div>
                              <div class="average">
                                <strong
                                  >Average : {{ statistics[qref].Time.Avg |
                                  secondToString }}</strong
                                >
                              </div>
                            </div>
                          </div>
                          <div>
                            <div id="canvasguagescoreGraph"></div>
                            <div class="summLable">
                              <div class="yours">
                                <strong
                                  >You score : {{ statistics[qref].Score.yours.toFixed(2) }}</strong> 
                              </div>
                              <div class="average">
                                <strong
                                  >Average : {{ statistics[qref].Score.Avg.toFixed(2) }}</strong
                                >
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div
                            class="col-lg-8 col-xs-12"
                            id="quiz-hintExpDiv"
                          ></div>
                          <div
                            class="col-lg-4 col-xs-12"
                            id="quiz-answerDiv"
                          ></div>
                        </div>
                      </div>

                      <div ng-show="statistics[qref].queType =='na'">
                        <strong>{{lang.msg_statsNotForQues}}</strong>
                      </div>
                      <div ng-show="(statistics[qref].queType =='sub' && scoreDetails[currentPage-1].score == 'Pending')">
                        <strong>Since this question is not yet graded , Statistics is not available</strong>
                      </div>
                    </uib-tab>
                  </uib-tabset>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- end of wrapper class -->
<!-- End here -->

<!-- Bootstrap model for Submit feature -->
<div class="modal fade" id="submitMore" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">{{ lang.caption_sumbitAndMore }}</h4>
      </div>
      <div class="modal-body" align="center">
        <button
          class="btn btn-info btn-fill btn-wd"
          ng-click="onFinish(currentPage);saveResponse('save','manualSave');"
          data-dismiss="modal"
        >
          {{lang.caption_save}}
        </button>
        <button
          class="btn btn-success btn-fill btn-wd"
          ng-click="onFinish(currentPage);getSummary();"
          data-toggle="modal"
          data-target="#submit"
          data-dismiss="modal"
        >
          {{lang.caption_submit}}
        </button>
        <button
          class="btn btn-danger btn-fill btn-wd"
          ng-click="onFinish(currentPage);saveResponse('exit','beforePlainExit');"
          data-dismiss="modal"
        >
          {{lang.caption_exit}}
        </button>
      </div>
    </div>
  </div>
</div>
<!-- End -->

<!-- Bootstrap model for All Items -->
<div class="modal fade" id="allItems" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">{{lang.caption_allitems}}</h4>
      </div>
      <div class="modal-body" align="center">
        <table class="table table-hover" border="0">
          <tr ng-repeat="item in questions">
            <td
              width="75"
              class="all-items-index posRel {{lock[$index]==true ? 'locked-ForAllitme' :'none'}}"
            >
              {{$index+1}}
              <sup id="flag" ng-show="checkReview($index+1)"> &#9873;</sup>

               <div class="iconBoxContainer">
                <div ng-if="mode=='review' && ticket[$index].hasTicket">
                  <i class="fa fa-ticket ticket-icon {{ ticket[$index].notResolved ? 'ticket-raised' : 'ticket-resolved'  }}"></i>
                </div>
                <div ng-if="mode=='review' && feedback[$index].hasFeedback">
                  <i  class="ti-comment-alt feed-icon"></i>
                </div>
              </div>

            </td>
            <td
              ng-click="getStartTime($index+1);getEndTime(currentPage);getTotalTime(currentPage);goTo($index+1 );setGridCenter($index+1);hideAll();resetAll();verifyToken();chkQusLock();"
              data-dismiss="modal"
            >
              <span class="label label-info">{{item.type}}</span>
              <span
                ng-show="item.type=='fillIn'"
                mathlimit="{{item.object.statement}}"
              ></span>
              <span
                ng-show="item.type=='info'"
                mathlimit="{{item.object.header}}"
              ></span>
              <span
                ng-show="item.type=='arrange' "
                mathlimit="{{item.object.question}}"
              ></span>
              <span
                ng-show="item.type=='mcq' "
                mathlimit="{{item.object.question}}"
              ></span>
              <span
                ng-show="item.type=='sub' "
                mathlimit="{{item.object.question}}"
              ></span>
              ...
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
<!-- End -->

<!-- Submit model -->

<div
  id="submit"
  class="modal fade"
  role="dialog"
  style="overflow-y: scroll !important"
>
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h5 class="modal-title">{{lang.caption_quizSummary}}</h5>
      </div>
      <div class="modal-body">
        <ul class="list-unstyled team-members">
          <li>
            <div class="row">
              <div class="col-xs-9">
                <h5>{{lang.caption_qusAttempted}}</h5>
              </div>
              <div class="col-xs-3">
                <h5><b>{{summary[1]}}</b></h5>
              </div>
            </div>
            <hr />
          </li>
          <li>
            <div class="row">
              <div class="col-xs-9">
                <h5>{{lang.caption_qusSkipped}}</h5>
              </div>
              <div class="col-xs-3">
                <h5><b>{{summary[0]}}</b></h5>
              </div>
            </div>
            <hr />
          </li>
          <li>
            <div class="row">
              <div class="col-xs-9">
                <h5>{{lang.caption_timeTaken}}</h5>
              </div>
              <div class="col-xs-3">
                <h5><b>{{timeTakenToComplete}}</b></h5>
              </div>
            </div>
            <hr />
          </li>
        </ul>
        <br />
        <div class="text-center">
          <!-- Once you submit the quiz, you will not be able to change any responses. -->
          <h5>{{ lang.caption_submitWarning }}</h5>
          <div style="display: flex; justify-content: center">
            <button
              class="btn btn-success btn-fill btn-wd pull-left"
              id="myHint"
              ng-disabled="isSubmitClick"
              ng-click="submitQuizWithConfirm();"
              data-dismiss="modal"
            >
              {{ !isSubmitClick ? lang.caption_submit : lang.caption_wait }}
            </button>
            <!-- <button class="btn btn-danger btn-fill btn-wd pull-right" id="myHint" data-dismiss="modal">{{lang.caption_cancel}}</button> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap model for User details -->
<div class="modal fade" id="userDetails" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body pad0px">
        <button type="button" class="close mdl-closeBtn" data-dismiss="modal">
          &times;
        </button>
        <div class="card card-user mr0px">
          <div class="image" style="border-radius: 4px 4px 0 0">
            <img src="assets/img/bgimg.jpg" alt="..." />
          </div>
          <div class="card-content mr0px" style="min-height: 175px !important">
            <div class="author">
              <img
                onerror="onImgLoadError(this)"
                class="avatar border-white"
                src="https://robohash.org/{{rsgetData('USER')}}{{rsgetData('QUIZID')}}?set=set2&&bgset=bg2&&size=90x90"
                alt="Image"
              />
              <h4 class="card-title">
                {{ lang.caption_user }} : {{ rsgetData('USER')}}
                <br />
              </h4>
              <h4 class="card-title">
                {{ lang.caption_quizid }} : {{rsgetData('QUIZID')}}
              </h4>
              <b style="font-size: 1.3em"> ({{ QUIZTITLE }})</b>

              <br />
              <b class="disBlock" ng-show="showUserDetail('A')">
                {{userDetail.A}}
              </b>
              <b class="disBlock" ng-show="showUserDetail('B')">
                {{userDetail.B}}
              </b>
              <b class="disBlock" ng-show="showUserDetail('C')">
                {{userDetail.C}}
              </b>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End -->

<div ng-include="'app/views/languageModal.html'"></div>

<!-- instuction Model -->
<div class="modal fade" id="secInstuction" role="dialog">
  <div class="modal-dialog modal-lg">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">{{lang.caption_instruction}}</h4>
      </div>
      <div class="modal-body">
        <h3 class="text-center quiz-head">{{ QUIZTITLE }}</h3>
        <div class="text-center">
          <span class="label label-success"
            >{{ lang.caption_quizid }} - {{rsgetData('QUIZID')}}</span
          >
        </div>
        <span math="{{instruction}}"></span>
        <div ng-show="{{rsgetData('ISSECTION')}}">
          <br />
          <h4 class="card-title marT5px">
            <strong ng-show="showExitBtn()"
              >{{lang.caption_section}} {{sectionNumber}}:</strong
            >
            <strong> {{ sectData.secTitle }}</strong>
            <hr />
          </h4>
          <span math="{{sectData.instruction}}"></span>
        </div>
        <h4 class="card-title">
          <strong>{{ lang.caption_timing }}</strong>
          <hr />
        </h4>
        <ul>
          <li>
            <p><b>{{lang.caption_quizOpenedAt}}</b> {{bTime}}</p>
          </li>
          <li>
            <p><b>{{lang.caption_deadline}}:</b> {{eTime}}</p>
          </li>
          <li>
            <p>
              <b>{{lang.caption_duration}}:</b> {{+DURATION==525600?
              lang.caption_na : +DURATION + lang.caption_min }}
            </p>
          </li>

          <li ng-if="sectData.partialGrading">
            <p class="bold text-warning">
              {{ sections.length == 1 ? lang.caption_partialInstrQuiz :
              lang.caption_partialInstrSec }}
            </p>
          </li>
        </ul>

        <h4 class="card-title">
          <strong>{{lang.caption_gradingScheme}}</strong>
          <hr />
        </h4>

        <p>{{lang.msg_gradingScheme}} :</p>
        <center>
          <div class="table-responsive">
            <table class="table table-center grade-table">
              <tr>
                <th width="160"></th>
                <th class="no-help-used" align="center">
                  &nbsp;{{lang.caption_noHelpUsed}}&nbsp;
                </th>
                <th
                  class="hint-used"
                  align="center"
                  ng-show="{{sectData.helpAllowed<=2&&sectData.helpAllowed>0}}"
                >
                  &nbsp;{{lang.caption_hintUsed}}&nbsp;
                </th>
                <th
                  class="explanation-used"
                  align="center"
                  ng-show="{{sectData.helpAllowed==2}}"
                >
                  &nbsp;{{lang.caption_expUsed}}&nbsp;
                </th>
              </tr>
              <tr>
                <td align="center">
                  <b> {{lang.caption_correctAns}} </b>
                </td>

                <td class="no-help-used">{{sectData.gradingMatrix[0][0] }}</td>
                <td
                  class="hint-used"
                  ng-show="{{sectData.helpAllowed<=2&&sectData.helpAllowed>0}}"
                >
                  {{sectData.gradingMatrix[0][1]}}
                </td>
                <td
                  class="explanation-used"
                  ng-show="{{sectData.helpAllowed==2}}"
                >
                  {{sectData.gradingMatrix[0][2]}}
                </td>
              </tr>
              <tr>
                <td align="center">
                  <b> {{lang.caption_skippedQus}} </b>
                </td>
                <td class="no-help-used">{{sectData.gradingMatrix[1][0]}}</td>
                <td
                  class="hint-used"
                  ng-show="{{sectData.helpAllowed<=2 && sectData.helpAllowed>0}}"
                >
                  {{sectData.gradingMatrix[1][1]}}
                </td>
                <td
                  class="explanation-used"
                  ng-show="{{sectData.helpAllowed==2}}"
                >
                  {{sectData.gradingMatrix[1][2]}}
                </td>
                <!-- <td ng-repeat="grd in grdSkippedAns">{{grd}}</td> -->
              </tr>
              <tr>
                <td align="center">
                  <b> {{lang.caption_incorrectAns}} </b>
                </td>
                <td class="no-help-used">{{sectData.gradingMatrix[2][0]}}</td>
                <td
                  class="hint-used"
                  ng-show="{{sectData.helpAllowed<=2 && sectData.helpAllowed>0}}"
                >
                  {{sectData.gradingMatrix[2][1]}}
                </td>
                <td
                  class="explanation-used"
                  ng-show="{{sectData.helpAllowed==2}}"
                >
                  {{sectData.gradingMatrix[2][2]}}
                </td>
                <!-- <td ng-repeat="grd in grdWrongAns">{{grd}}</td> -->
              </tr>
            </table>
          </div>
        </center>
      </div>
    </div>
  </div>
</div>
<!-- end of instruction Model -->

<!-- math doc model -->
<div class="modal fade" id="mathDocMdl" role="dialog">
  <div class="modal-dialog modal-lg">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">{{ lang.msg_math_help }}</h4>
      </div>
      <div class="modal-body">
        <iframe
          src="https://examineer.in/docs/mathHelp.html"
          height="450px"
          width="100%"
          title="Math Documentation"
        ></iframe>
      </div>
    </div>
  </div>
</div>
<!-- end of math doc model -->

<div class="overlay-div">
  <div class="row">
    <br />
    <div class="col-md-4 col-md-offset-4">
      <div class="card card-user">
        <div class="image">
          <img src="assets/img/bgimg.jpg" alt="..." />
        </div>
        <div class="card-content" style="min-height: 175px !important">
          <div class="author">
            <img
              class="avatar border-white"
              onerror="onImgLoadError(this)"
              src="https://robohash.org/{{rsgetData('USER')}}{{rsgetData('QUIZID')}}?set=set2&&bgset=bg2&&size=90x90"
              alt="..."
            />
            <h4 class="card-title">
              {{rsgetData('USER')}}
              <br />
            </h4>
            <h4 class="card-title">{{rsgetData('QUIZID')}}</h4>
            <b>{{lang.msg_submitGrade}}</b>
            <p>{{lang.msg_timeUp}}</p>
            <div class="text-center">
              <button
                class="btn btn-fill btn-wd btn-success"
                ng-disabled="submitBtnClick"
                ng-click="saveResponse('submit','beforeSubmit');"
              >
                {{lang.caption_submit}}
              </button>
              &nbsp; &nbsp;
              <button
                class="btn btn-danger btn-fill btn-wd"
                ng-click="loggedOut()"
              >
                {{lang.caption_logout}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Calculator -->
<div id="calc">
  <!--Close button-->
  <div class="row">
    <div class="col-sm-12 calCloseBtn">
      <button id="close" style="font-size: 20px" onclick="calcClose()">
        &times;
      </button>

      <span class="calHeading"> {{lang.caption_calculator}} </span>
      <input type="hidden" id="calcType" name="calcType" value="{{calcType}}" />
    </div>
  </div>

  <!-- display and output -->
  <div class="row">
    <div class="col-sm-12">
      <form name="calculator" id="calculator">
        <div class="col-xs-12 padit">
          <div id="output" style="cursor: pointer !important"></div>
          <hr />
        </div>

        <div class="col-xs-12 padit">
          <textarea
            rows="3"
            type="text"
            name="display"
            id="display"
            autofocus
            onkeypress="evalOnEnter(event)"
          ></textarea>
        </div>
      </form>
    </div>
  </div>

  <!--buttons-->
  <div class="row keys">
    <div class="col-md-12 padit1" id="top-btn">
      <button
        class="angles btn btn-warning"
        id="angles"
        ng-if="calcType=='scientific'"
        onclick="changeAngle()"
      >
        DEG
      </button>
      <button type="button" class="btn btn-danger" onclick="clearAll()">
        <b>
          <i class="fa fa-trash"></i>
        </b>
      </button>
      <button
        type="button"
        id="button1"
        class="btn btn-danger"
        onclick="clearKey()"
      >
        <b>
          <i class="fa fa-eraser"></i>
        </b>
      </button>
      <button
        type="button"
        id="button3"
        class="btn btn-success"
        onclick="calculate()"
      >
        <b>&#9868;</b>
      </button>
      <button
        type="button"
        id="button2"
        class="btn btn-default"
        onclick="keypadToggle()"
      >
        <b>
          <i class="fa fa-keyboard-o" aria-hidden="true"></i>
        </b>
      </button>
    </div>
  </div>

  <!--keypad start-->
  <div class="row keypad" style="display: none">
    <div ng-if="calcType=='scientific'" class="col-sm-12">
      <!--start function keys-->
      <table class="wid calc-table">
        <tr class="key">
          <td>
            <button class="btn btn-dark cursor" value="asin()">
              sin
              <sup>-1</sup>
            </button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="acos()">
              cos
              <sup>-1</sup>
            </button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="atan()">
              tan
              <sup>-1</sup>
            </button>
          </td>
          <td>
            <button class="btn btn-danger" id="del" value="DEL" onclick="del()">
              DEL
            </button>
          </td>
          <td>
            <button
              class="btn btn-danger"
              id="clear"
              value="AC"
              onclick="clearKey()"
            >
              AC
            </button>
          </td>
        </tr>

        <tr class="key">
          <td>
            <button class="btn btn-dark cursor" value="sin()">sin</button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="cos()">cos</button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="tan()">tan</button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="sqrt()">&#8730;</button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="cbrt()">&#8731;</button>
          </td>
        </tr>

        <tr class="key">
          <td>
            <button class="btn btn-dark cursor" value="exp()">e^x</button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="log()">ln</button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="log10()">log</button>
          </td>
          <td>
            <input
              type="button"
              class="btn btn-dark pie"
              value="&#960;"
              onclick="piVal()"
            />
          </td>
          <td>
            <button class="btn btn-dark cursor" value="factorial()">n!</button>
          </td>
        </tr>

        <tr class="key">
          <td>
            <button class="btn btn-dark cursor" value="square()">
              x&#178;
            </button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="inv()">1/x</button>
          </td>
          <td>
            <button class="btn btn-dark cursor" value="abs()">|x|</button>
          </td>
          <td>
            <button
              class="btn btn-dark powten"
              value="pow(x,y)"
              onclick="toPower($(this).val())"
            >
              x^y
            </button>
          </td>
          <td>
            <button
              class="btn btn-dark powten"
              value="mod(x,y)"
              onclick="toMod($(this).val())"
            >
              %
            </button>
          </td>
        </tr>
      </table>
      <!--End function keys-->

      <!-- start numbers -->
      <table class="wid calc-table">
        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="num"
              id="7"
              value="7"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="8"
              id="8"
              value="8"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="9"
              id="9"
              value="9"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="parenleft"
              id="parenleft"
              value="("
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="parenright"
              id="parenright"
              value=")"
            />
          </td>
        </tr>

        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="num4"
              id="4"
              value="4"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="5"
              id="5"
              value="5"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="6"
              id="6"
              value="6"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="mul"
              id="mul"
              value="*"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="div"
              id="div"
              value="/"
            />
          </td>
        </tr>

        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="num1"
              id="1"
              value="1"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="1"
              id="2"
              value="2"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="3"
              id="3"
              value="3"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="plus"
              id="plus"
              value="+"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="minus"
              id="minus"
              value="-"
            />
          </td>
        </tr>

        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="zero"
              id="zero"
              value="0"
            />
          </td>
          <td>
            <button class="btn btn-light posit" value="." name="dot" id="dot">
              .
            </button>
          </td>
          <td>
            <button
              class="btn btn-light powten"
              value="pow(10,x)"
              onclick="toPower($(this).val())"
            >
              EXP
            </button>
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light"
              name="answer"
              id="answer"
              value="ANS"
              onclick="ansKey()"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-success"
              name="calculate"
              id="calculate"
              value="="
              onclick="calculate()"
            />
          </td>
        </tr>
      </table>
    </div>

    <div ng-if="calcType=='basic'" class="col-sm-12">
      <!-- start numbers -->
      <table class="wid calc-table">
        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="num"
              id="7"
              value="7"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="8"
              id="8"
              value="8"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="9"
              id="9"
              value="9"
            />
          </td>

          <td>
            <button class="btn btn-danger" id="del" value="DEL" onclick="del()">
              DEL
            </button>
          </td>
          <td>
            <button
              class="btn btn-danger"
              id="clear"
              value="AC"
              onclick="clearKey()"
            >
              AC
            </button>
          </td>
        </tr>

        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="num4"
              id="4"
              value="4"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="5"
              id="5"
              value="5"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="6"
              id="6"
              value="6"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="mul"
              id="mul"
              value="*"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="div"
              id="div"
              value="/"
            />
          </td>
        </tr>

        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="num1"
              id="1"
              value="1"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="1"
              id="2"
              value="2"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="3"
              id="3"
              value="3"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="plus"
              id="plus"
              value="+"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="minus"
              id="minus"
              value="-"
            />
          </td>
        </tr>

        <tr class="key">
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="zero"
              id="zero"
              value="0"
            />
          </td>
          <td>
            <button class="btn btn-light posit" value="." name="dot" id="dot">
              .
            </button>
          </td>

          <td>
            <input
              type="button"
              class="btn btn-success"
              name="calculate"
              id="calculate"
              value="="
              onclick="calculate()"
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="parenleft"
              id="parenleft"
              value="("
            />
          </td>
          <td>
            <input
              type="button"
              class="btn btn-light posit"
              name="parenright"
              id="parenright"
              value=")"
            />
          </td>
        </tr>
      </table>
    </div>
  </div>

  <!-- End numbers -->
  <div style="clear: both"></div>
</div>
<!-- End Calc -->

<!-- <footer class="footer">
  <div class="container-fluid">
    <div class="copyright pull-right">
      {{lang.copyRight.copyFull}}
    </div>
  </div>
</footer> -->

<div id="overlay">
  <div class="clear-fix">
    <div class="pull-right">
      &nbsp;
      <button class="btn btn-fill btn-primary btn-sm" id="closeOverlay">
        <i class="fa fa-close"></i> {{ lang.caption_cancel }}
      </button>
    </div>
  </div>
  <iframe frameborder="0" id="overlayIframe"></iframe>
</div>
<script src="assets/js/paper-dashboard.js"></script>
